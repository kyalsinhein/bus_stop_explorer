{% extends "base.html" %} {% block title %}My Favorite Bus Stops{% endblock %}
{% block extra_css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/explorer.css') }}"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Istok+Web:wght@400;700&family=Bakbak+One&family=Inria+Serif:wght@400;700&display=swap"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/base.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/favorites.css') }}"
/>
{% endblock %} {% block content %}
<div class="explorer-page favorites-page">
  <div class="explorer-container">
    <aside class="sidebar">
      <div class="section">
        <h2>Navigation</h2>
        <ul class="feature-list">
          <li onclick="window.location.href='/explorer'">
            <i class="fas fa-arrow-left"></i> Back to Explorer
          </li>
          <li id="clear-all-favorites-btn" class="favorites-sidebar-link">
            <i class="fas fa-trash"></i> Clear All Favorites
          </li>
        </ul>
      </div>
    </aside>

    <section class="map-container favorites-container">
      <div class="favorites-header">
        <h1 style="margin: 0; color: white">My Favorite Bus Stops</h1>
      </div>

      <div class="favorites-list">
        <div id="favorites-container">
          {% if favorites and favorites|length > 0 %} {% for fav in favorites %}
          <div
            class="favorite-item"
            id="favorite-{{ fav.atco_code|default('unknown') }}"
          >
            <div class="favorite-info">
              <h3>{{ fav.name|default("Unknown Stop") }}</h3>
              <p><strong>Street:</strong> {{ fav.street|default("N/A") }}</p>
              <p>
                <strong>Locality:</strong> {{ fav.locality|default("N/A") }}
              </p>
              <p>
                <strong>Authority:</strong> {{ fav.authority|default("N/A") }}
              </p>
              <p><strong>Lines:</strong> {{ fav.lines|default("N/A") }}</p>
              <p><strong>ATCO:</strong> {{ fav.atco_code|default("N/A") }}</p>
              <p>
                <small
                  >Added: {{ fav.added_at.strftime('%Y-%m-%d') if fav.added_at
                  else 'N/A' }}</small
                >
              </p>
            </div>

            <div class="favorite-actions">
              <button
                class="favorite-btn remove-favorite-btn"
                data-atco="{{ fav.atco_code }}"
                style="background: #ff6b6b; color: white"
              >
                <i class="fas fa-trash"></i> Remove
              </button>
            </div>
          </div>
          {% endfor %} {% else %}
          <div class="no-favorites">
            <i class="fas fa-heart"></i>
            <h3 style="color: white">No favorite stops yet</h3>
            <p style="color: white">
              Click the heart icon on a bus stop to add it to your favorites.
            </p>
          </div>
          {% endif %}
        </div>
      </div>
    </section>
  </div>
</div>
{% endblock %} {% block scripts %} {% endblock %}
